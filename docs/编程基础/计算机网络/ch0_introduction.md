# 计算机网络的系统结构

!!!note
      这里先不去管协议，等学完了每一层协议的作用自然就明白了。我们的课程是五层架构，从下至上依次是物理层、链路层、网络层、传输层和应用层。

## 概述

### 概念

一般认为，计算机网络是一个将众多分散的、自治的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统。这里需要区分`internet`和`Internet`：

- `internet`：是一个通用名词，泛指由多个计算机网络互联而成的计算机网络。
- `Internet`：是一个专有名词，指当前全球最大的、开放的、由众多网络和路由器互连而成的特定计算机网络。

### 组成

1. 从组成部分看，计算机网络可以分为硬件、软件和协议
   1. 硬件：主机、通信链路（如双绞线、光纤）、交换设备（如路由器、交换机等）和通信处理机（如网卡）
   2. 软件：各种工具软件，比如E-mail程序、FTP程序、聊天程序等
   3. 协议：网络传输数据时需要遵循的规范
2. 从工作方式看，计算机网络可以分为边缘部分和核心部分
   1. 边缘部分由所有连接到计算机网络上供用户直接使用的主机组成，用来通信和资源共享
   2. 核心部分由大量网络和连接这些网络的路由器组成，它们为边缘部分提供联通性和交换服务
3. 从功能组成看，计算机网络由通信子网和资源子网组成，顾名思义，通信子网主要用于数据通信，资源子网主要用于资源共享

### 电路交换、报文交换和分组交换

在网络核心部分起作用的是路由器(router)，它对收到的分组进行存储转发来实现分组交换。

最典型的电路交换网是传统电话网，在传输资源前，两个用户之间必须建立一条专用的物理通信路径。在数据传输过程中，这一物理通信路径始终被两个用户独占，直到通信结束后才被释放。在电路交换中，任何节点都采用直通方式，即不存在存储和转发的开销，比特流在整个通信阶段源源不断地从源节点直达目的节点。

> 用户数据加上源地址、目的地址等信息后封装成报文(message)

报文交换采用存储转发技术，整个报文先传送到相邻节点，全部存储后查找转发表，转发到下一个节点，如此重复，直到到达目的节点。每个报文都可以单独选择到达目的断点的路径。

分组交换也采用存储转发技术，但解决了报文交换中报文过长的问题，做法是先把较长的报文划分成若干较小的等长数据段，在每个数据段前添加一些必要的控制信息组成的首部，构成分组(Packet)

### 分类

按照分布范围，可以分为：

1. 广域网(WAN)
2. 城域网(MAN)
3. 局域网(LAN)
4. 个人区域网(PAN)

按照传输技术，可以分为：

1. 广播式网络：所有联网计算机都共享一个公共通信信道
2. 点对点网络：每条物理线路连接一对计算机

按照拓扑结构分类

按照拓扑结构，网络可以分为：

1. 总线型：用单根传输线把计算机连接起来
2. 星型：每个中断或计算机都以单独的线路与中央设备相连
3. 环型：所有计算机接口设备连接成一个环
4. 网状：每个节点至少有两条路径与其它节点相连

按使用者分类：

1. 公用网：电信公司出资修建的大型网络
2. 专用网：指某个单位为满足本单位特殊业务需要而建造的网络

按传输介质分：

1. 有线：双绞线和同轴电缆
2. 无线：蓝牙、微波、无线电等

### 性能指标

> 默认B是Byte，b是bit，故Mb和MB不一样

1. 速率(speed)：指连接到网络的节点在数字信道上传输数据的速率，也称数据传输速率、数据率或比特率，单位为b/s(bit/s)，有时简写bps
2. 带宽(bandWidth)：在计网中表示网络的通信线路所能传送数据的能力，是最高数据传输率的同义词，单位是b/s
3. 吞吐量(throughput)：指单位时间通过某个网络的实时数据量
4. 时延(delay)：指数据从一端传到另一端的总时间，包括发送时延、传播时延、处理时延和排队时延
   1. 发送时延 = 分组长度/分送速率
   2. 传播时延 = 信道长度/电磁波在信道上的传播速率
   3. 处理时延：分组在交换节点为存储转发而进行的一些必要处理所花时间
   4. 排队延迟：分组在路由器的输入队列和输出队列中排队等待所花的时间